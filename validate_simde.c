#include <stdlib.h>
#include <stdio.h>
#include <stdint.h>

#include "ternary_simde.c"

#define DEFINE_VALIDATE(K) \
    void HEDLEY_CONCAT(validate_, K)(void) { \
        const uint64_t A = 0xf0; \
        const uint64_t B = 0xcc; \
        const uint64_t C = 0xaa; \
\
        const uint64_t R64 = HEDLEY_CONCAT3(simde_x_ternarylogic_, K, _impl_)(A, B, C); \
        const uint64_t R32 = HEDLEY_CONCAT3(simde_x_ternarylogic_, K, _impl_)(A, B, C); \
\
        const uint8_t expected = K; \
        const uint8_t result64 = R64 & 0xff; \
        const uint8_t result32 = R32 & 0xff; \
\
        if (result64 != expected) { \
            printf("result64 = %02x, expected = %02x\n", result64, expected); \
            exit(1); \
        } \
\
        if (result32 != expected) { \
            printf("result32 = %02x, expected = %02x\n", result32, expected); \
            exit(1); \
        } \
    }

#define VALIDATE(K) \
    HEDLEY_CONCAT(validate_, K)();

DEFINE_VALIDATE(0x00)
DEFINE_VALIDATE(0x01)
DEFINE_VALIDATE(0x02)
DEFINE_VALIDATE(0x03)
DEFINE_VALIDATE(0x04)
DEFINE_VALIDATE(0x05)
DEFINE_VALIDATE(0x06)
DEFINE_VALIDATE(0x07)
DEFINE_VALIDATE(0x08)
DEFINE_VALIDATE(0x09)
DEFINE_VALIDATE(0x0a)
DEFINE_VALIDATE(0x0b)
DEFINE_VALIDATE(0x0c)
DEFINE_VALIDATE(0x0d)
DEFINE_VALIDATE(0x0e)
DEFINE_VALIDATE(0x0f)
DEFINE_VALIDATE(0x10)
DEFINE_VALIDATE(0x11)
DEFINE_VALIDATE(0x12)
DEFINE_VALIDATE(0x13)
DEFINE_VALIDATE(0x14)
DEFINE_VALIDATE(0x15)
DEFINE_VALIDATE(0x16)
DEFINE_VALIDATE(0x17)
DEFINE_VALIDATE(0x18)
DEFINE_VALIDATE(0x19)
DEFINE_VALIDATE(0x1a)
DEFINE_VALIDATE(0x1b)
DEFINE_VALIDATE(0x1c)
DEFINE_VALIDATE(0x1d)
DEFINE_VALIDATE(0x1e)
DEFINE_VALIDATE(0x1f)
DEFINE_VALIDATE(0x20)
DEFINE_VALIDATE(0x21)
DEFINE_VALIDATE(0x22)
DEFINE_VALIDATE(0x23)
DEFINE_VALIDATE(0x24)
DEFINE_VALIDATE(0x25)
DEFINE_VALIDATE(0x26)
DEFINE_VALIDATE(0x27)
DEFINE_VALIDATE(0x28)
DEFINE_VALIDATE(0x29)
DEFINE_VALIDATE(0x2a)
DEFINE_VALIDATE(0x2b)
DEFINE_VALIDATE(0x2c)
DEFINE_VALIDATE(0x2d)
DEFINE_VALIDATE(0x2e)
DEFINE_VALIDATE(0x2f)
DEFINE_VALIDATE(0x30)
DEFINE_VALIDATE(0x31)
DEFINE_VALIDATE(0x32)
DEFINE_VALIDATE(0x33)
DEFINE_VALIDATE(0x34)
DEFINE_VALIDATE(0x35)
DEFINE_VALIDATE(0x36)
DEFINE_VALIDATE(0x37)
DEFINE_VALIDATE(0x38)
DEFINE_VALIDATE(0x39)
DEFINE_VALIDATE(0x3a)
DEFINE_VALIDATE(0x3b)
DEFINE_VALIDATE(0x3c)
DEFINE_VALIDATE(0x3d)
DEFINE_VALIDATE(0x3e)
DEFINE_VALIDATE(0x3f)
DEFINE_VALIDATE(0x40)
DEFINE_VALIDATE(0x41)
DEFINE_VALIDATE(0x42)
DEFINE_VALIDATE(0x43)
DEFINE_VALIDATE(0x44)
DEFINE_VALIDATE(0x45)
DEFINE_VALIDATE(0x46)
DEFINE_VALIDATE(0x47)
DEFINE_VALIDATE(0x48)
DEFINE_VALIDATE(0x49)
DEFINE_VALIDATE(0x4a)
DEFINE_VALIDATE(0x4b)
DEFINE_VALIDATE(0x4c)
DEFINE_VALIDATE(0x4d)
DEFINE_VALIDATE(0x4e)
DEFINE_VALIDATE(0x4f)
DEFINE_VALIDATE(0x50)
DEFINE_VALIDATE(0x51)
DEFINE_VALIDATE(0x52)
DEFINE_VALIDATE(0x53)
DEFINE_VALIDATE(0x54)
DEFINE_VALIDATE(0x55)
DEFINE_VALIDATE(0x56)
DEFINE_VALIDATE(0x57)
DEFINE_VALIDATE(0x58)
DEFINE_VALIDATE(0x59)
DEFINE_VALIDATE(0x5a)
DEFINE_VALIDATE(0x5b)
DEFINE_VALIDATE(0x5c)
DEFINE_VALIDATE(0x5d)
DEFINE_VALIDATE(0x5e)
DEFINE_VALIDATE(0x5f)
DEFINE_VALIDATE(0x60)
DEFINE_VALIDATE(0x61)
DEFINE_VALIDATE(0x62)
DEFINE_VALIDATE(0x63)
DEFINE_VALIDATE(0x64)
DEFINE_VALIDATE(0x65)
DEFINE_VALIDATE(0x66)
DEFINE_VALIDATE(0x67)
DEFINE_VALIDATE(0x68)
DEFINE_VALIDATE(0x69)
DEFINE_VALIDATE(0x6a)
DEFINE_VALIDATE(0x6b)
DEFINE_VALIDATE(0x6c)
DEFINE_VALIDATE(0x6d)
DEFINE_VALIDATE(0x6e)
DEFINE_VALIDATE(0x6f)
DEFINE_VALIDATE(0x70)
DEFINE_VALIDATE(0x71)
DEFINE_VALIDATE(0x72)
DEFINE_VALIDATE(0x73)
DEFINE_VALIDATE(0x74)
DEFINE_VALIDATE(0x75)
DEFINE_VALIDATE(0x76)
DEFINE_VALIDATE(0x77)
DEFINE_VALIDATE(0x78)
DEFINE_VALIDATE(0x79)
DEFINE_VALIDATE(0x7a)
DEFINE_VALIDATE(0x7b)
DEFINE_VALIDATE(0x7c)
DEFINE_VALIDATE(0x7d)
DEFINE_VALIDATE(0x7e)
DEFINE_VALIDATE(0x7f)
DEFINE_VALIDATE(0x80)
DEFINE_VALIDATE(0x81)
DEFINE_VALIDATE(0x82)
DEFINE_VALIDATE(0x83)
DEFINE_VALIDATE(0x84)
DEFINE_VALIDATE(0x85)
DEFINE_VALIDATE(0x86)
DEFINE_VALIDATE(0x87)
DEFINE_VALIDATE(0x88)
DEFINE_VALIDATE(0x89)
DEFINE_VALIDATE(0x8a)
DEFINE_VALIDATE(0x8b)
DEFINE_VALIDATE(0x8c)
DEFINE_VALIDATE(0x8d)
DEFINE_VALIDATE(0x8e)
DEFINE_VALIDATE(0x8f)
DEFINE_VALIDATE(0x90)
DEFINE_VALIDATE(0x91)
DEFINE_VALIDATE(0x92)
DEFINE_VALIDATE(0x93)
DEFINE_VALIDATE(0x94)
DEFINE_VALIDATE(0x95)
DEFINE_VALIDATE(0x96)
DEFINE_VALIDATE(0x97)
DEFINE_VALIDATE(0x98)
DEFINE_VALIDATE(0x99)
DEFINE_VALIDATE(0x9a)
DEFINE_VALIDATE(0x9b)
DEFINE_VALIDATE(0x9c)
DEFINE_VALIDATE(0x9d)
DEFINE_VALIDATE(0x9e)
DEFINE_VALIDATE(0x9f)
DEFINE_VALIDATE(0xa0)
DEFINE_VALIDATE(0xa1)
DEFINE_VALIDATE(0xa2)
DEFINE_VALIDATE(0xa3)
DEFINE_VALIDATE(0xa4)
DEFINE_VALIDATE(0xa5)
DEFINE_VALIDATE(0xa6)
DEFINE_VALIDATE(0xa7)
DEFINE_VALIDATE(0xa8)
DEFINE_VALIDATE(0xa9)
DEFINE_VALIDATE(0xaa)
DEFINE_VALIDATE(0xab)
DEFINE_VALIDATE(0xac)
DEFINE_VALIDATE(0xad)
DEFINE_VALIDATE(0xae)
DEFINE_VALIDATE(0xaf)
DEFINE_VALIDATE(0xb0)
DEFINE_VALIDATE(0xb1)
DEFINE_VALIDATE(0xb2)
DEFINE_VALIDATE(0xb3)
DEFINE_VALIDATE(0xb4)
DEFINE_VALIDATE(0xb5)
DEFINE_VALIDATE(0xb6)
DEFINE_VALIDATE(0xb7)
DEFINE_VALIDATE(0xb8)
DEFINE_VALIDATE(0xb9)
DEFINE_VALIDATE(0xba)
DEFINE_VALIDATE(0xbb)
DEFINE_VALIDATE(0xbc)
DEFINE_VALIDATE(0xbd)
DEFINE_VALIDATE(0xbe)
DEFINE_VALIDATE(0xbf)
DEFINE_VALIDATE(0xc0)
DEFINE_VALIDATE(0xc1)
DEFINE_VALIDATE(0xc2)
DEFINE_VALIDATE(0xc3)
DEFINE_VALIDATE(0xc4)
DEFINE_VALIDATE(0xc5)
DEFINE_VALIDATE(0xc6)
DEFINE_VALIDATE(0xc7)
DEFINE_VALIDATE(0xc8)
DEFINE_VALIDATE(0xc9)
DEFINE_VALIDATE(0xca)
DEFINE_VALIDATE(0xcb)
DEFINE_VALIDATE(0xcc)
DEFINE_VALIDATE(0xcd)
DEFINE_VALIDATE(0xce)
DEFINE_VALIDATE(0xcf)
DEFINE_VALIDATE(0xd0)
DEFINE_VALIDATE(0xd1)
DEFINE_VALIDATE(0xd2)
DEFINE_VALIDATE(0xd3)
DEFINE_VALIDATE(0xd4)
DEFINE_VALIDATE(0xd5)
DEFINE_VALIDATE(0xd6)
DEFINE_VALIDATE(0xd7)
DEFINE_VALIDATE(0xd8)
DEFINE_VALIDATE(0xd9)
DEFINE_VALIDATE(0xda)
DEFINE_VALIDATE(0xdb)
DEFINE_VALIDATE(0xdc)
DEFINE_VALIDATE(0xdd)
DEFINE_VALIDATE(0xde)
DEFINE_VALIDATE(0xdf)
DEFINE_VALIDATE(0xe0)
DEFINE_VALIDATE(0xe1)
DEFINE_VALIDATE(0xe2)
DEFINE_VALIDATE(0xe3)
DEFINE_VALIDATE(0xe4)
DEFINE_VALIDATE(0xe5)
DEFINE_VALIDATE(0xe6)
DEFINE_VALIDATE(0xe7)
DEFINE_VALIDATE(0xe8)
DEFINE_VALIDATE(0xe9)
DEFINE_VALIDATE(0xea)
DEFINE_VALIDATE(0xeb)
DEFINE_VALIDATE(0xec)
DEFINE_VALIDATE(0xed)
DEFINE_VALIDATE(0xee)
DEFINE_VALIDATE(0xef)
DEFINE_VALIDATE(0xf0)
DEFINE_VALIDATE(0xf1)
DEFINE_VALIDATE(0xf2)
DEFINE_VALIDATE(0xf3)
DEFINE_VALIDATE(0xf4)
DEFINE_VALIDATE(0xf5)
DEFINE_VALIDATE(0xf6)
DEFINE_VALIDATE(0xf7)
DEFINE_VALIDATE(0xf8)
DEFINE_VALIDATE(0xf9)
DEFINE_VALIDATE(0xfa)
DEFINE_VALIDATE(0xfb)
DEFINE_VALIDATE(0xfc)
DEFINE_VALIDATE(0xfd)
DEFINE_VALIDATE(0xfe)
DEFINE_VALIDATE(0xff)

int main() {
    VALIDATE(0x00);
    VALIDATE(0x01);
    VALIDATE(0x02);
    VALIDATE(0x03);
    VALIDATE(0x04);
    VALIDATE(0x05);
    VALIDATE(0x06);
    VALIDATE(0x07);
    VALIDATE(0x08);
    VALIDATE(0x09);
    VALIDATE(0x0a);
    VALIDATE(0x0b);
    VALIDATE(0x0c);
    VALIDATE(0x0d);
    VALIDATE(0x0e);
    VALIDATE(0x0f);
    VALIDATE(0x10);
    VALIDATE(0x11);
    VALIDATE(0x12);
    VALIDATE(0x13);
    VALIDATE(0x14);
    VALIDATE(0x15);
    VALIDATE(0x16);
    VALIDATE(0x17);
    VALIDATE(0x18);
    VALIDATE(0x19);
    VALIDATE(0x1a);
    VALIDATE(0x1b);
    VALIDATE(0x1c);
    VALIDATE(0x1d);
    VALIDATE(0x1e);
    VALIDATE(0x1f);
    VALIDATE(0x20);
    VALIDATE(0x21);
    VALIDATE(0x22);
    VALIDATE(0x23);
    VALIDATE(0x24);
    VALIDATE(0x25);
    VALIDATE(0x26);
    VALIDATE(0x27);
    VALIDATE(0x28);
    VALIDATE(0x29);
    VALIDATE(0x2a);
    VALIDATE(0x2b);
    VALIDATE(0x2c);
    VALIDATE(0x2d);
    VALIDATE(0x2e);
    VALIDATE(0x2f);
    VALIDATE(0x30);
    VALIDATE(0x31);
    VALIDATE(0x32);
    VALIDATE(0x33);
    VALIDATE(0x34);
    VALIDATE(0x35);
    VALIDATE(0x36);
    VALIDATE(0x37);
    VALIDATE(0x38);
    VALIDATE(0x39);
    VALIDATE(0x3a);
    VALIDATE(0x3b);
    VALIDATE(0x3c);
    VALIDATE(0x3d);
    VALIDATE(0x3e);
    VALIDATE(0x3f);
    VALIDATE(0x40);
    VALIDATE(0x41);
    VALIDATE(0x42);
    VALIDATE(0x43);
    VALIDATE(0x44);
    VALIDATE(0x45);
    VALIDATE(0x46);
    VALIDATE(0x47);
    VALIDATE(0x48);
    VALIDATE(0x49);
    VALIDATE(0x4a);
    VALIDATE(0x4b);
    VALIDATE(0x4c);
    VALIDATE(0x4d);
    VALIDATE(0x4e);
    VALIDATE(0x4f);
    VALIDATE(0x50);
    VALIDATE(0x51);
    VALIDATE(0x52);
    VALIDATE(0x53);
    VALIDATE(0x54);
    VALIDATE(0x55);
    VALIDATE(0x56);
    VALIDATE(0x57);
    VALIDATE(0x58);
    VALIDATE(0x59);
    VALIDATE(0x5a);
    VALIDATE(0x5b);
    VALIDATE(0x5c);
    VALIDATE(0x5d);
    VALIDATE(0x5e);
    VALIDATE(0x5f);
    VALIDATE(0x60);
    VALIDATE(0x61);
    VALIDATE(0x62);
    VALIDATE(0x63);
    VALIDATE(0x64);
    VALIDATE(0x65);
    VALIDATE(0x66);
    VALIDATE(0x67);
    VALIDATE(0x68);
    VALIDATE(0x69);
    VALIDATE(0x6a);
    VALIDATE(0x6b);
    VALIDATE(0x6c);
    VALIDATE(0x6d);
    VALIDATE(0x6e);
    VALIDATE(0x6f);
    VALIDATE(0x70);
    VALIDATE(0x71);
    VALIDATE(0x72);
    VALIDATE(0x73);
    VALIDATE(0x74);
    VALIDATE(0x75);
    VALIDATE(0x76);
    VALIDATE(0x77);
    VALIDATE(0x78);
    VALIDATE(0x79);
    VALIDATE(0x7a);
    VALIDATE(0x7b);
    VALIDATE(0x7c);
    VALIDATE(0x7d);
    VALIDATE(0x7e);
    VALIDATE(0x7f);
    VALIDATE(0x80);
    VALIDATE(0x81);
    VALIDATE(0x82);
    VALIDATE(0x83);
    VALIDATE(0x84);
    VALIDATE(0x85);
    VALIDATE(0x86);
    VALIDATE(0x87);
    VALIDATE(0x88);
    VALIDATE(0x89);
    VALIDATE(0x8a);
    VALIDATE(0x8b);
    VALIDATE(0x8c);
    VALIDATE(0x8d);
    VALIDATE(0x8e);
    VALIDATE(0x8f);
    VALIDATE(0x90);
    VALIDATE(0x91);
    VALIDATE(0x92);
    VALIDATE(0x93);
    VALIDATE(0x94);
    VALIDATE(0x95);
    VALIDATE(0x96);
    VALIDATE(0x97);
    VALIDATE(0x98);
    VALIDATE(0x99);
    VALIDATE(0x9a);
    VALIDATE(0x9b);
    VALIDATE(0x9c);
    VALIDATE(0x9d);
    VALIDATE(0x9e);
    VALIDATE(0x9f);
    VALIDATE(0xa0);
    VALIDATE(0xa1);
    VALIDATE(0xa2);
    VALIDATE(0xa3);
    VALIDATE(0xa4);
    VALIDATE(0xa5);
    VALIDATE(0xa6);
    VALIDATE(0xa7);
    VALIDATE(0xa8);
    VALIDATE(0xa9);
    VALIDATE(0xaa);
    VALIDATE(0xab);
    VALIDATE(0xac);
    VALIDATE(0xad);
    VALIDATE(0xae);
    VALIDATE(0xaf);
    VALIDATE(0xb0);
    VALIDATE(0xb1);
    VALIDATE(0xb2);
    VALIDATE(0xb3);
    VALIDATE(0xb4);
    VALIDATE(0xb5);
    VALIDATE(0xb6);
    VALIDATE(0xb7);
    VALIDATE(0xb8);
    VALIDATE(0xb9);
    VALIDATE(0xba);
    VALIDATE(0xbb);
    VALIDATE(0xbc);
    VALIDATE(0xbd);
    VALIDATE(0xbe);
    VALIDATE(0xbf);
    VALIDATE(0xc0);
    VALIDATE(0xc1);
    VALIDATE(0xc2);
    VALIDATE(0xc3);
    VALIDATE(0xc4);
    VALIDATE(0xc5);
    VALIDATE(0xc6);
    VALIDATE(0xc7);
    VALIDATE(0xc8);
    VALIDATE(0xc9);
    VALIDATE(0xca);
    VALIDATE(0xcb);
    VALIDATE(0xcc);
    VALIDATE(0xcd);
    VALIDATE(0xce);
    VALIDATE(0xcf);
    VALIDATE(0xd0);
    VALIDATE(0xd1);
    VALIDATE(0xd2);
    VALIDATE(0xd3);
    VALIDATE(0xd4);
    VALIDATE(0xd5);
    VALIDATE(0xd6);
    VALIDATE(0xd7);
    VALIDATE(0xd8);
    VALIDATE(0xd9);
    VALIDATE(0xda);
    VALIDATE(0xdb);
    VALIDATE(0xdc);
    VALIDATE(0xdd);
    VALIDATE(0xde);
    VALIDATE(0xdf);
    VALIDATE(0xe0);
    VALIDATE(0xe1);
    VALIDATE(0xe2);
    VALIDATE(0xe3);
    VALIDATE(0xe4);
    VALIDATE(0xe5);
    VALIDATE(0xe6);
    VALIDATE(0xe7);
    VALIDATE(0xe8);
    VALIDATE(0xe9);
    VALIDATE(0xea);
    VALIDATE(0xeb);
    VALIDATE(0xec);
    VALIDATE(0xed);
    VALIDATE(0xee);
    VALIDATE(0xef);
    VALIDATE(0xf0);
    VALIDATE(0xf1);
    VALIDATE(0xf2);
    VALIDATE(0xf3);
    VALIDATE(0xf4);
    VALIDATE(0xf5);
    VALIDATE(0xf6);
    VALIDATE(0xf7);
    VALIDATE(0xf8);
    VALIDATE(0xf9);
    VALIDATE(0xfa);
    VALIDATE(0xfb);
    VALIDATE(0xfc);
    VALIDATE(0xfd);
    VALIDATE(0xfe);
    VALIDATE(0xff);

    puts("All OK");
}
